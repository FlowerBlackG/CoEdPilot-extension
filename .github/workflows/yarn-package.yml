name: Yarn Package

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]
    
  workflow_dispatch:
  
  
jobs:
  build:
    name: "Yarn Package"
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    - name: see environment
      run: |
        lsb_release -a
        uname -a
        g++ -v
        cat /proc/meminfo
        cat /proc/cpuinfo
    - name: install softwares
      run: |
        sudo apt update
        sudo apt install -y nodejs 
        curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
        echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
        sudo apt update
        sudo apt install -y yarn
    - name: check yarn
      run: |
        node -v
        npm -v
        yarn -v
    - name: package
      run: |
        cd ${{ github.workspace }}
        yarn package
        
  
